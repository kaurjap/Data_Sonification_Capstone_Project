"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.query = void 0;
var url_1 = require("./url");
var jquery_param_1 = __importDefault(require("jquery-param"));
exports.query = function (url, init, next) {
    if (init && init.query) {
        if (typeof init.query === 'string')
            url = url_1.set(url_1.get(url) + '?' + init.query);
        else {
            var qs = jquery_param_1.default(init.query);
            url = url_1.set(url_1.get(url) + '?' + qs);
        }
        delete init.query;
    }
    return next(url, init);
};
//# sourceMappingURL=query.js.map